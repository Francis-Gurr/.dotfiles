# Enable TPM (Tmux Plugin Manager)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin "janoamaral/tokyo-night-tmux"

# # Enable 256-color support
# set -g default-terminal "tmux-256color"
# set -ga terminal-overrides ",xterm-256color:Tc"
#
# # Use terminal’s default background
# set -g window-style "bg=default"
# set -g window-active-style "bg=default"
#
# Quality of life
set -g mouse on
setw -g mode-keys vi
set -g history-limit 10000
set -g allow-rename off
set -g focus-events on

# remap prefix from 'C-b' to 'C-a'
# unbind C-a
# set-option -g prefix C-b
# bind-key C-b send-prefix

# split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Reload config
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded config"

# tmux-resurrect & continuum
set -g @continuum-restore 'on'
set -g @continuum-save-interval '5'

# tokyo-night-tmux
set -g @tokyo-night-tmux_window_id_style fsquare
set -g @tokyo-night-tmux_pane_id_style hsquare
set -g @tokyo-night-tmux_zoom_id_style dsquare
set -g @tokyo-night-tmux_terminal_icon 
set -g @tokyo-night-tmux_active_terminal_icon 
set -g @tokyo-night-tmux_show_datetime 0

# Fix undercurls
set -g default-terminal "${TERM}"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0

# # Neovim navigation keys
# bind -n C-h select-pane -L
# bind -n C-j select-pane -D
# bind -n C-k select-pane -U
# bind -n C-l select-pane -R

# Initialize TPM
run '~/.config/tmux/plugins/tpm/tpm'

